define("block_precondition/main",["exports","jquery","core/log","core/str","core/modal_factory","core/modal_events"],(function(_exports,_jquery,_log,_str,_modal_factory,_modal_events){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Main client logic.
   *
   * @module      block_precondition/main
   * @copyright   2024 David Herney @ BambuCo - https://bambuco.co
   * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=_interopRequireDefault(_jquery),_log=_interopRequireDefault(_log),_modal_factory=_interopRequireDefault(_modal_factory),_modal_events=_interopRequireDefault(_modal_events);var strings=[{key:"conditionstitle",component:"block_precondition"}],s=[];_exports.init=async()=>{var messages=[];(0,_jquery.default)(".block_precondition-message").each((function(){var $message=(0,_jquery.default)(this);messages.push($message.html())})),await(strings.forEach((one=>{s[one.key]=one.key})),new Promise((resolve=>{(0,_str.get_strings)(strings).then((function(results){var pos=0;strings.forEach((one=>{s[one.key]=results[pos],pos++})),resolve(!0)})).fail((function(e){_log.default.debug("Error loading strings"),_log.default.debug(e)}))})));var finalMessage='<div class="block_precondition-message">'+messages.join("<hr>")+"</div>";_modal_factory.default.create({type:_modal_factory.default.types.CANCEL,body:finalMessage,title:s.conditionstitle}).then((function(modal){return modal.getRoot().on(_modal_events.default.hidden,(function(){modal.getRoot().remove()})),modal.show(),modal}))}}));

//# sourceMappingURL=main.min.js.map